<div class="relative w-full overflow-hidden hidden md:block p-10">
  <div class="slide-container">
    <img src="images/casa.jpeg" alt="Immagine della casa" class="slide-image" />
    <img
      src="images/ingresso.jpeg"
      alt="Immagine dell'ingresso"
      class="slide-image"
    />
    <img
      src="images/stanza.jpeg"
      alt="Immagine della stanza"
      class="slide-image"
    />
  </div>
  <!-- nascondiamo per ora i button 
    <div class="absolute top-1/2 w-full flex justify-between transform -translate-y-1/2">
      <button class="nav-button" id="prevBtn">❮</button>
      <button class="nav-button" id="nextBtn">❯</button>
    </div>
  -->
</div>

<style>
  .relative {
    height: 60vh; /* Imposta l'altezza del contenitore principale */
  }

  .slide-container {
    display: flex; /* Layout flex per contenere le immagini in linea */
    transition: transform 0.5s ease; /* Transizione per lo spostamento */
    width: 300%; /* Larghezza al 300% per contenere tutte le immagini */
  }

  .slide-image {
    width: 33.3333%; /* Larghezza delle immagini al 33.3333% */
    height: auto;
    object-fit: cover; /* Ritaglia l'immagine per adattarsi al contenitore */
    border-radius: 40px; /* Arrotonda gli angoli */
    padding: 20px; /* Padding interno */
    max-width: 80%;
    max-height: 55vh;
  }

  .nav-button {
    background: rgba(0, 0, 0, 0.5);
    border: none;
    color: white;
    font-size: 2rem;
    padding: 10px;
    cursor: pointer;
  }

  .nav-button:hover {
    background-color: rgba(0, 0, 0, 0.8); /* Ombra più scura su hover */
    transform: scale(1.1);
  }

  .nav-button:focus {
    outline: none;
  }

  @media (max-width: 768px) {
    .slide-image {
      display: none; /* Nascondi le immagini su schermi più piccoli */
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const slides = document.querySelectorAll(".slide-image");
    const slideContainer = document.querySelector(".slide-container");
    //const prevBtn = document.getElementById("prevBtn");
    //const nextBtn = document.getElementById("nextBtn");

    let currentIndex = 0;

    function showSlide(index) {
      const totalSlides = slides.length;
      currentIndex = (index + totalSlides) % totalSlides; // Assicura che l'indice si riavvolga
      const offset = (currentIndex * -100) / totalSlides - 1;
      if (slideContainer) {
        const slideContainer = document.querySelector(
          ".slide-container",
        ) as HTMLElement;
        slideContainer.style.transform = `translateX(${offset}%)`;
        slideContainer.style.justifyContent = "center"; // Aggiungi questa linea per centrare l'immagine
      }
    }

    /*prevBtn.addEventListener("click", () => {
      showSlide(currentIndex - 1);
    });

    nextBtn.addEventListener("click", () => {
      showSlide(currentIndex + 1);
    });
*/
    setInterval(() => {
      showSlide(currentIndex + 1);
    }, 3000);

    showSlide(currentIndex); // Mostra l'immagine iniziale
  });
</script>
